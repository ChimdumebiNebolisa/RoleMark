<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Evaluation Results - RoleMark</title>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 50px auto; padding: 20px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background-color: #f2f2f2; }
        .score { font-weight: bold; font-size: 1.2em; }
    </style>
</head>
<body>
    <h1>Evaluation Results</h1>
    <p>Status: <span th:text="${evaluation.status}"></span></p>
    
    <table>
        <tr>
            <th>Rank</th>
            <th>Resume ID</th>
            <th>Total Score</th>
            <th>Score %</th>
            <th>Actions</th>
        </tr>
        <tr th:each="result, iterStat : ${results}">
            <td th:text="${iterStat.index + 1}"></td>
            <td th:text="${result.resumeId}"></td>
            <td class="score" th:text="${result.totalScore}"></td>
            <td class="score" th:text="${result.totalScorePct} + '%'"></td>
            <td>
                <a th:if="${iterStat.index < results.size() - 1}"
                   th:href="@{/evaluations/{evalId}/compare(evalId=${evaluation.id}, leftResumeId=${result.resumeId}, rightResumeId=${results[iterStat.index + 1].resumeId})}">
                    Compare with Next</a>
            </td>
        </tr>
    </table>
    
    <a href="/dashboard">Back to Dashboard</a>
</body>
</html>

